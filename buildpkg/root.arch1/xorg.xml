<packages>

<package>
<files>extra/freetype2-*.xz</files>
<install>
usr/lib/libfreetype.so*
</install>
</package>

<package>
<files>extra/fontconfig-*.xz</files>
<install>
usr/bin/fc-cache
# This font file is important(as I test), If lose this file, X strat will have a problem.
# We will add it here, not in bootscripts.
# but I find font.conf is not in this package, so add it in bootscripts.
#etc/fonts/font.conf
etc/fonts/fonts.dtd
usr/lib/libfontconfig.so*
</install>
</package>

<package>
<files>core/keyutils-*.xz</files>
<install>
usr/lib/libkeyutils.so*
</install>
</package>

<package>
<files>extra/xorg-server-*.xz</files>
<install>
usr/bin/X
usr/bin/Xorg
usr/bin/gtf
@usr/lib/xorg/modules
#usr/share/xorg/vesamodes
#usr/share/xorg/extramodes
</install>
</package>

<package>
<files>extra/xorg-xinit-*.xz</files>
<install>
usr/bin/xinit
</install>
</package>

<package>
<files>extra/xf86-input-keyboard-*.xz</files>
<install>
usr/lib/xorg/modules/input/kbd_drv.so
</install>
</package>

<package>
<files>extra/xf86-input-mouse-*.xz</files>
<install>
usr/lib/xorg/modules/input/mouse_drv.so
</install>
</package>

<package>
<files>extra/xf86-input-evdev-*.xz</files>
<install>
usr/lib/xorg/modules/input/evdev_drv.so
</install>
</package>

<package>
<files>extra/xf86-video-fbdev-*.xz</files>
<install>
usr/lib/xorg/modules/drivers/fbdev_drv.so
</install>
</package>

<package>
<files>extra/xf86-video-intel-*.xz</files>
<install>
usr/lib/xorg/modules/drivers/intel_drv.so
</install>
</package>

<package>
<files>extra/xf86-video-vesa-*.xz</files>
<install>
usr/lib/xorg/modules/drivers/vesa_drv.so
</install>
</package>

<package>
<files>extra/libice-*.xz</files>
<install>
usr/lib/libICE.so*
</install>
</package>

<package>
<files>extra/libsm-*.xz</files>
<install>
usr/lib/libSM.so*
</install>
</package>

<package>
<files>extra/libxcursor-*.xz</files>
<install>
usr/lib/libXcursor.so*
</install>
</package>

<package>
<files>extra/libxext-*.xz</files>
<install>
usr/lib/libXext.so*
</install>
</package>

<package>
<files>extra/libxfont-*.xz</files>
<install>
usr/lib/libXfont.so*
</install>
</package>

<package>
<files>extra/libxft-*.xz</files>
<install>
usr/lib/libXft.so*
</install>
</package>

<package>
<files>extra/libxi-*.xz</files>
<install>
usr/lib/libXi.so*
</install>
</package>

<package>
<files>extra/libxmu-*.xz</files>
<install>
usr/lib/libXmuu.so*
usr/lib/libXmu.so*
</install>
</package>

<package>
<files>extra/libxrandr-*.xz</files>
<install>
usr/lib/libXrandr.so*
</install>
</package>

<package>
<files>extra/libxcomposite-*.xz</files>
<install>
usr/lib/libXcomposite.so*
</install>
</package>

<package>
<files>extra/libxdamage-*.xz</files>
<install>
usr/lib/libXdamage.so*
</install>
</package>

<package>
<files>extra/pixman-*.xz</files>
<install>
usr/lib/libpixman-1.so*
</install>
</package>

<package>
<files>extra/libxrender-*.xz</files>
<install>
usr/lib/libXrender.so*
</install>
</package>

<package>
<files>extra/libxt-*.xz</files>
<install>
usr/lib/libXt.so*
</install>
</package>

<package>
<files>extra/libxinerama-*.xz</files>
<install>
usr/lib/libXinerama.so*
</install>
</package>

<package>
<files>extra/libxkbfile-*.xz</files>
<install>
usr/lib/libxkbfile.so*
</install>
</package>

<package>
<files>extra/libxfixes-*.xz</files>
<install>
usr/lib/libXfixes.so*
</install>
</package>

<package>
<files>extra/libfontenc-*.xz</files>
<install>
usr/lib/libfontenc.so*
</install>
</package>

<package>
<files>extra/libxau-*.xz</files>
<install>
usr/lib/libXau.so*
</install>
</package>

<package>
<files>extra/libxdmcp-*.xz</files>
<install>
usr/lib/libXdmcp.so*
</install>
</package>

<package>
<files>extra/libx11-*.xz</files>
<install>
usr/lib/libX11.so*
usr/lib/libX11-xcb.so*
usr/share/X11/XErrorDB
usr/share/X11/locale/compose.dir
usr/share/X11/locale/locale.alias
usr/share/X11/locale/locale.dir
@usr/share/X11/locale/C
@usr/share/X11/locale/en_US.UTF-8
@usr/share/X11/locale/iso8859-1
@usr/share/X11/locale/zh_CN.gb18030
@usr/share/X11/locale/zh_CN.UTF-8
@usr/share/X11/locale/zh_CN
</install>
</package>

<package>
<files>extra/xorg-xkbcomp-*.xz</files>
<install>
usr/bin/xkbcomp
</install>
</package>

<package>
<files>core/gcc-libs-*.xz</files>
<install>
usr/lib/libgcc_s.so*
usr/lib/libstdc++.so*
</install>
</package>

<package>
<files>extra/libxcb-*.xz</files>
<install>
usr/lib/libxcb.so*
usr/lib/libxcb-*.so*
</install>
</package>

<package>
<files>extra/xcb-util-*.xz</files>
<install>
#usr/lib/libxcb-aux.so*
#usr/lib/libxcb-event.so*
#usr/lib/libxcb-icccm.so*
#usr/lib/libxcb-image.so*
#usr/lib/libxcb-keysyms.so*
#usr/lib/libxcb-property.so*
#usr/lib/libxcb-render-util.so*
#usr/lib/libxcb-reply.so*
usr/lib/libxcb-util.so*
</install>
</package>

<package>
<files>extra/libpciaccess-*.xz</files>
<install>
usr/lib/libpciaccess.so*
</install>
</package>

<package>
<files>
extra/xorg-fonts-misc-*.xz
extra/xorg-fonts-alias-*.xz
extra/xorg-fonts-encodings-*.xz
</files>
<install>
usr/share/fonts/encodings/large/gbk-0.enc.gz
usr/share/fonts/encodings/large/gb18030.2000-1.enc.gz
usr/share/fonts/misc/fonts.alias
usr/share/fonts/misc/cursor.pcf.gz
usr/share/fonts/misc/6x13-ISO8859-1.pcf.gz
usr/share/fonts/misc/6x13B-ISO8859-1.pcf.gz
usr/share/fonts/misc/7x14-ISO8859-1.pcf.gz
usr/share/fonts/misc/7x14B-ISO8859-1.pcf.gz
usr/share/fonts/misc/clR8x16.pcf.gz
usr/share/fonts/misc/clB8x16.pcf.gz
usr/share/fonts/misc/8x16.pcf.gz
</install>
</package>


<package>
<files>community/wqy-bitmapfont-*.xz</files>
<install>
usr/share/fonts/wenquanyi/wenquanyi_9pt.pcf
#usr/share/fonts/misc/wenquanyi_9pt.pcf
</install>
</package>

# fix the xkbmap problem
<package>
<files>extra/xkeyboard-config-*.xz</files>
<install>
@usr/share/X11/xkb
</install>
<post_action>
#ln -sv ../../share/X11/xkb $ROOT/usr/share/X11
</post_action>
</package>

<package>
<files></files>
<post_action>
echo "/usr/lib" >> $ROOT/etc/ld.so.conf
</post_action>
</package>

<package>
<files>
extra/xorg-mkfontdir-*.xz
extra/xorg-mkfontscale-*.xz
</files>
<install>
usr/bin/mkfontdir
usr/bin/mkfontscale
</install>
<post_action>
LD_LIBRARY_PATH=/usr/lib sudo chroot $ROOT /usr/bin/mkfontdir /usr/share/X11/fonts/misc
LD_LIBRARY_PATH=/usr/lib sudo chroot $ROOT /usr/bin/mkfontscale /usr/share/X11/fonts/encodings
LD_LIBRARY_PATH=/usr/lib sudo chroot $ROOT /usr/bin/mkfontscale /usr/share/X11/fonts/encodings/large
rm -f $ROOT/usr/bin/mkfontdir
rm -f $ROOT/usr/bin/mkfontscale
rm -f $ROOT/usr/bin/fc-cache
</post_action>
</package>

<package>
<files>
extra/mesa-*.xz
extra/mesa-libgl-*.xz
extra/graphite-*.xz
extra/icu-*.xz
extra/wayland-*.xz
</files>
<install>
usr/lib/libEGL.so*
usr/lib/libgbm.so*
usr/lib/libglapi.so*
usr/lib/libGL.so*
usr/lib/libgraphite2.so*
usr/lib/libicule.so*
usr/lib/libicuuc.so*
usr/lib/libicudata.so*
usr/lib/libwayland-client.so*
usr/lib/libwayland-server.so*
</install>
</package>

</packages>
